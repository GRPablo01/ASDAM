<!-- ==========================================================
   CLASSEMENT ‚Äì VERSION UNIFI√âE AVEC DARK MODE
   Design coh√©rent avec la page "Liste des utilisateurs"
========================================================== -->
<div class="min-h-screen flex flex-col md:flex-row bg-[var(--Blanc)] dark:bg-[var(--Black)]/90 transition-colors duration-500">

  <!-- ===== SIDEBAR : S√©lection des √©quipes ===== -->
  <aside
    class="w-full md:w-72 p-6 flex flex-col gap-4 sticky top-0 md:h-screen md:overflow-y-auto
           bg-[var(--Blanc)]/90 dark:bg-[var(--Gris)]/90 border-b md:border-b-0 md:border-r border-gray-300 dark:border-gray-700
           shadow-md md:shadow-lg rounded-b-3xl md:rounded-none transition-colors duration-500">

    <h2 class="text-2xl font-extrabold mb-6 text-center text-[var(--Rouge)] drop-shadow-md">
      √âquipes
    </h2>

    <!-- Boutons d‚Äô√©quipes -->
    <div class="flex flex-wrap md:flex-col gap-3 justify-center">
      <button
        *ngFor="let equipe of equipes"
        (click)="selectEquipe(equipe)"
        [ngClass]="{
          'bg-[var(--Rouge)] text-[var(--Blanc)] shadow-lg scale-105': selectedEquipe === equipe,
          'bg-[var(--Bleu)]/90 text-[var(--Blanc)] opacity-80 hover:opacity-100 hover:scale-105': selectedEquipe !== equipe
        }"
        class="flex items-center gap-3 px-5 py-3 font-semibold rounded-2xl transition-all duration-200 ease-in-out
               hover:shadow-lg active:scale-95 w-full justify-center md:justify-start"
      >
        <i class="fas fa-users text-lg"></i>
        <span class="truncate">{{ equipe }}</span>
      </button>
    </div>
  </aside>

  <!-- ===== CONTENU PRINCIPAL ===== -->
  <main class="flex-1 p-6 sm:p-10 overflow-x-auto transition-colors duration-500 text-[var(--Black)] dark:text-[var(--Blanc)]">

    <!-- ===== TITRE PRINCIPAL ===== -->
    <h1 class="text-4xl md:text-5xl font-extrabold mb-10 text-[var(--Rouge)] text-center drop-shadow-lg">
      Classements des √âquipes
    </h1>

    <!-- üîπ Si aucune √©quipe s√©lectionn√©e -->
    <p *ngIf="!selectedEquipe"
      class="text-center text-gray-500 dark:text-gray-300 text-lg mt-6 animate-fadeIn">
      <i class="fas fa-hand-pointer mr-2 text-[var(--Rouge)]"></i>
      S√©lectionnez une √©quipe pour voir le classement.
    </p>

    <!-- üîπ Si aucune donn√©e -->
    <p *ngIf="selectedEquipe && classementFiltre.length === 0"
      class="text-center text-gray-500 dark:text-gray-300 text-lg mt-6 animate-fadeIn">
      <i class="fas fa-info-circle mr-2 text-[var(--Rouge)]"></i>
      Aucun classement trouv√© pour <strong>{{ selectedEquipe }}</strong>.
    </p>

    <!-- üîπ Affichage des classements -->
    <div *ngIf="classementFiltre.length > 0" class="space-y-12 animate-fadeIn">
      <div
        *ngFor="let cat of classementFiltre"
        class="bg-[var(--Blanc)]/90 dark:bg-[var(--Gris)]/90 rounded-3xl shadow-lg border border-[var(--Rouge)]/60 p-6
               hover:shadow-2xl hover:scale-[1.01] transition-all duration-300 ease-in-out">

        <h3 class="text-2xl font-semibold text-[var(--Rouge)] mb-6 border-b border-[var(--Rouge)]/40 pb-2 text-center">
          {{ cat.categorie }}
        </h3>

        <div class="overflow-x-auto rounded-2xl">
          <table class="min-w-full border-collapse text-sm sm:text-base rounded-2xl overflow-hidden">
            <thead class="bg-[var(--Rouge)] text-[var(--Blanc)] uppercase">
              <tr>
                <th class="px-3 py-2 text-left">Pl</th>
                <th class="px-3 py-2 text-left">√âquipe</th>
                <th class="px-3 py-2 text-center">Pts</th>
                <th class="px-3 py-2 text-center">J</th>
                <th class="px-3 py-2 text-center">G</th>
                <th class="px-3 py-2 text-center">N</th>
                <th class="px-3 py-2 text-center">P</th>
                <th class="px-3 py-2 text-center">F</th>
                <th class="px-3 py-2 text-center">BP</th>
                <th class="px-3 py-2 text-center">BC</th>
                <th class="px-3 py-2 text-center">Dif</th>
              </tr>
            </thead>

            <tbody>
              <tr
                *ngFor="let e of cat.equipes; let i = index"
                class="transition-colors duration-200 border-b border-gray-100 dark:border-gray-700"
                [ngClass]="{
                  'bg-[var(--Rouge)] text-[var(--Blanc)] font-semibold shadow-inner':
                    e.equipe.toLowerCase().includes('danjoutin'),
                  'hover:bg-gray-100 dark:hover:bg-gray-700':
                    !e.equipe.toLowerCase().includes('danjoutin')
                }"
              >
                <td class="px-3 py-2">{{ i + 1 }}</td>
                <td class="px-3 py-2 truncate">{{ e.equipe }}</td>
                <td class="px-3 py-2 text-center">{{ e.pts }}</td>
                <td class="px-3 py-2 text-center">{{ e.jo }}</td>
                <td class="px-3 py-2 text-center">{{ e.g }}</td>
                <td class="px-3 py-2 text-center">{{ e.n }}</td>
                <td class="px-3 py-2 text-center">{{ e.p }}</td>
                <td class="px-3 py-2 text-center">{{ e.f }}</td>
                <td class="px-3 py-2 text-center">{{ e.bp }}</td>
                <td class="px-3 py-2 text-center">{{ e.bc }}</td>
                <td class="px-3 py-2 text-center">{{ e.dif }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Animation douce -->
<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.6s ease-in-out;
  }
</style>
